<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crop Recommendation System</title>
    <link rel="stylesheet" href="https://cdn.replit.com/agent/bootstrap-agent-dark-theme.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="shortcut icon" href="{{ url_for('static', filename='images/favicon.svg') }}" type="image/svg+xml">
</head>
<body>
    <!-- Header -->
    <header class="py-3 mb-4 border-bottom">
        <div class="container d-flex flex-wrap justify-content-center">
            <span class="d-flex align-items-center mb-3 mb-md-0 me-md-auto text-decoration-none">
                <i class="bi bi-flower1 fs-3 me-2"></i>
                <span class="fs-4" id="system-title">Crop Recommendation System</span>
            </span>
            <div class="language-selector">
                <div class="btn-group" role="group" aria-label="Language selector">
                    <button type="button" class="btn btn-sm btn-outline-secondary active" onclick="changeLanguage('en')">English</button>
                    <button type="button" class="btn btn-sm btn-outline-secondary" onclick="changeLanguage('hi')">हिंदी</button>
                    <button type="button" class="btn btn-sm btn-outline-secondary" onclick="changeLanguage('mr')">मराठी</button>
                </div>
            </div>
        </div>
    </header>

    <main class="container mb-5">
        <!-- Hero Section -->
        <div class="p-4 p-md-5 mb-4 rounded bg-dark-subtle">
            <div class="row">
                <div class="col-md-7">
                    <h1 class="display-5 fw-bold" id="hero-title">Find the perfect crop for your field</h1>
                    <p class="lead my-3" id="hero-subtitle">Get accurate crop recommendations based on soil and climate conditions using our advanced machine learning model.</p>
                    <div class="d-grid gap-2 d-md-flex">
                        <a href="/input" class="btn btn-primary btn-lg" id="get-started-btn">Get Started</a>
                        <button class="btn btn-outline-secondary btn-lg" data-bs-toggle="modal" data-bs-target="#infoModal" id="learn-more-btn">Learn More</button>
                    </div>
                </div>
                <div class="col-md-5 d-flex align-items-center justify-content-center">
                    <div class="w-100">
                        <img src="{{ url_for('static', filename='images/crop.jpg') }}" 
                             class="img-fluid rounded hero-image w-100" alt="Crop farming">
                    </div>
                </div>
            </div>
        </div>

        <!-- Info Cards -->
        <div class="row mb-4 g-4">
            <div class="col-md-4">
                <div class="card h-100 bg-transparent border-0">
                    <div class="card-body text-center">
                        <i class="bi bi-cloud-sun fs-1 text-primary mb-3"></i>
                        <h5 class="card-title" id="weather-title">Weather Integration</h5>
                        <p class="card-text" id="weather-text">Automatically fetch current weather conditions based on your location to provide accurate recommendations.</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card h-100 bg-transparent border-0">
                    <div class="card-body text-center">
                        <i class="bi bi-mic fs-1 text-primary mb-3"></i>
                        <h5 class="card-title" id="voice-title">Voice Input & Output</h5>
                        <p class="card-text" id="voice-text">Speak to input your data and receive recommendations using our voice-enabled interface in multiple languages.</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card h-100 bg-transparent border-0">
                    <div class="card-body text-center">
                        <i class="bi bi-graph-up fs-1 text-primary mb-3"></i>
                        <h5 class="card-title" id="ml-title">AI-Powered Predictions</h5>
                        <p class="card-text" id="ml-text">Our machine learning model analyzes soil properties and environmental conditions to recommend the best crops.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Large Images Banner with Scrolling -->
        <div class="row mb-4">
            <div class="col-12">
                <div class="position-relative w-100">
                    <div class="image-carousel overflow-hidden rounded" style="height: 350px;">
                        <div class="d-flex h-100" id="imageContainer" style="width: 400%; transform: translateX(0%); transition: transform 0.5s ease;">
                            <div class="image-slide">
                                <img src="{{ url_for('static', filename='images/cropfield.jpg') }}" 
                                     class="w-100 h-100 object-fit-cover" alt="Crop field">
                            </div>
                            <div class="image-slide">
                                <img src="{{ url_for('static', filename='images/crop2.jpg') }}" 
                                     class="w-100 h-100 object-fit-cover" alt="Agricultural produce">
                            </div>
                            <div class="image-slide">
                                <img src="{{ url_for('static', filename='images/crop1.jpg') }}" 
                                     class="w-100 h-100 object-fit-cover" alt="Corn field">
                            </div>
                            <div class="image-slide">
                                <img src="{{ url_for('static', filename='images/weather.jpg') }}" 
                                     class="w-100 h-100 object-fit-cover" alt="Weather patterns">
                            </div>
                        </div>
                    </div>
                    
                    <!-- Navigation Arrows -->
                    <button class="carousel-nav carousel-nav-left" onclick="scrollCarousel(-1)">
                        <i class="bi bi-chevron-left"></i>
                    </button>
                    <button class="carousel-nav carousel-nav-right" onclick="scrollCarousel(1)">
                        <i class="bi bi-chevron-right"></i>
                    </button>
                    
                    <!-- Navigation Progress Bar -->
                    <div class="carousel-progress">
                        <div class="progress-bar" id="progressBar"></div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer mt-auto py-3 bg-dark">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <span class="text-muted"></span>
                </div>
            </div>
        </div>
    </footer>

    <!-- Info Modal -->
    <div class="modal fade" id="infoModal" tabindex="-1" aria-labelledby="infoModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="infoModalLabel">About Crop Recommendation System</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <h5 id="about-system-title">How This System Works</h5>
                    <p id="about-system-text">This crop recommendation system uses a machine learning model trained on thousands of agricultural data points to suggest the most suitable crops for your specific conditions. The model analyzes soil nutrients (N, P, K), environmental factors (temperature, humidity, rainfall), and soil properties (pH, soil type) to make accurate predictions.</p>
                    
                    <h5 id="about-features-title">Key Features</h5>
                    <ul>
                        <li id="feature-1">Voice input and output in multiple languages (English, Hindi, Marathi)</li>
                        <li id="feature-2">Real-time weather data integration based on your location</li>
                        <li id="feature-3">Advanced machine learning algorithm for accurate predictions</li>
                        <li id="feature-4">Alternative crop suggestions with confidence scores</li>
                    </ul>
                    
                    <h5 id="about-soil-title">Understanding Soil Types</h5>
                    <div class="row">
                        <div class="col-md-4">
                            <div class="card mb-3">
                                <img src="{{ url_for('static', filename='images/sandysoil.jpg') }}" class="card-img-top" alt="Sandy soil">
                                <div class="card-body">
                                    <h5 class="card-title" id="sandy-title">Sandy Soil</h5>
                                    <p class="card-text" id="sandy-text">Light, warm and dry soil with high drainage and low nutrient content.</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="card mb-3">
                                <img src="{{ url_for('static', filename='images/loamysoil.jpg') }}" class="card-img-top" alt="Loamy soil">
                                <div class="card-body">
                                    <h5 class="card-title" id="loamy-title">Loamy Soil</h5>
                                    <p class="card-text" id="loamy-text">Balanced mixture of sand, silt and clay with good drainage and nutrient retention.</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="card mb-3">
                                <img src="{{ url_for('static', filename='images/claysoil.jpg') }}" class="card-img-top" alt="Clay soil">
                                <div class="card-body">
                                    <h5 class="card-title" id="clay-title">Clay Soil</h5>
                                    <p class="card-text" id="clay-text">Heavy, nutrient-rich soil with poor drainage that retains moisture well.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" id="close-modal-btn">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{{ url_for('static', filename='js/translations.js') }}"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            updateAllTranslations();
        });
        
        // Image Carousel JavaScript
        let currentSlideIndex = 0;
        const totalSlides = 4;
        
        function scrollCarousel(direction) {
            const container = document.getElementById('imageContainer');
            const progressBar = document.getElementById('progressBar');
            
            currentSlideIndex += direction;
            
            // Loop back to start/end
            if (currentSlideIndex < 0) {
                currentSlideIndex = totalSlides - 1;
            } else if (currentSlideIndex >= totalSlides) {
                currentSlideIndex = 0;
            }
            
            // Calculate the transform percentage (each slide is 25% of the container)
            const translateX = -currentSlideIndex * 25;
            container.style.transform = `translateX(${translateX}%)`;
            
            // Update progress bar
            const progressPosition = (currentSlideIndex * 25);
            progressBar.style.marginLeft = `${progressPosition}%`;
        }
        
        // Auto-scroll every 4 seconds
        setInterval(() => {
            scrollCarousel(1);
        }, 4000);
    </script>
</body>
</html>